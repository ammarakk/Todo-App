apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "backend.fullname" . }}-config
  labels:
    {{- include "backend.labels" . | nindent 4 }}
data:
  # Application configuration
  APP_NAME: "{{ .Values.nameOverride | default "phase-5-backend" }}"
  APP_VERSION: "{{ .Values.image.tag | default .Chart.AppVersion }}"
  APP_ENV: "production"

  # Dapr configuration
  DAPR_HTTP_PORT: "{{ .Values.dapr.enabled | ternary "3500" "" }}"
  DAPR_GRPC_PORT: "{{ .Values.dapr.enabled | ternary "50001" "" }}"

  # Logging
  LOG_LEVEL: "{{ .Values.env | default dict | get "LOG_LEVEL" "INFO" }}"
